import"./layout-DyQu36RY.js";import{s as a}from"./modal-B1-yN4BK.js";class p{constructor(e){this.value=e,this.left=null,this.right=null,this.parent=null}}class m{constructor(){this.root=null}addNode(e,t,s){if(this.contains(t)){a("Node with this value already exists.");return}const r=new p(t);e===null?this.root=r:(r.parent=e,s?e.left=r:e.right=r),this.render()}contains(e){return this.containsHelper(this.root,e)}containsHelper(e,t){return e===null?!1:e.value===t?!0:this.containsHelper(e.left,t)||this.containsHelper(e.right,t)}depth(){return this.depthHelper(this.root)}depthHelper(e){return e===null?0:1+Math.max(this.depthHelper(e.left),this.depthHelper(e.right))}height(){return this.depth()}async preOrder(){this.clearVisited();const e=[];await this.preOrderHelper(this.root,e),await this.sleep(1e3),this.showTraversalResult("preOrder",e),this.clearVisited()}async preOrderHelper(e,t){e!==null&&(this.visit(e),t.push(e.value),await this.sleep(500),await this.preOrderHelper(e.left,t),await this.preOrderHelper(e.right,t))}async inOrder(){this.clearVisited();const e=[];await this.inOrderHelper(this.root,e),this.showTraversalResult("inOrder",e),await this.sleep(1e3),this.clearVisited()}async inOrderHelper(e,t){e!==null&&(await this.inOrderHelper(e.left,t),this.visit(e),t.push(e.value),await this.sleep(500),await this.inOrderHelper(e.right,t))}async postOrder(){this.clearVisited();const e=[];await this.postOrderHelper(this.root,e),this.showTraversalResult("postOrder",e),await this.sleep(1e3),this.clearVisited()}async postOrderHelper(e,t){e!==null&&(await this.postOrderHelper(e.left,t),await this.postOrderHelper(e.right,t),this.visit(e),t.push(e.value),await this.sleep(500))}showTraversalResult(e,t){a(e+": "+t.join(" -> "))}sleep(e){return new Promise(t=>setTimeout(t,e))}visit(e){const t=document.getElementById(`node-${e.value}`);t&&t.classList.add("visited")}clearVisited(){document.querySelectorAll(".node.visited").forEach(t=>{t.classList.remove("visited")})}render(){const e=document.getElementById("tree"),t=document.getElementById("tree-svg");e.innerHTML="",t.innerHTML="",this.renderNode(this.root,e,t,175,20,100)}renderNode(e,t,s,r,l,n){if(e!==null){const d=document.createElement("div");d.className="node",d.id=`node-${e.value}`,d.style.left=`${r}px`,d.style.top=`${l}px`,d.textContent=e.value,d.addEventListener("click",h=>{h.stopPropagation(),u(e)}),t.appendChild(d),e.left&&(this.renderEdge(s,r+25,l+25,r-n+25,l+125),this.renderNode(e.left,t,s,r-n,l+100,n/2)),e.right&&(this.renderEdge(s,r+25,l+25,r+n+25,l+125),this.renderNode(e.right,t,s,r+n,l+100,n/2))}}renderEdge(e,t,s,r,l){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",t),n.setAttribute("y1",s),n.setAttribute("x2",r),n.setAttribute("y2",l),n.setAttribute("stroke","black"),e.appendChild(n)}}const o=new m;let c=null;function v(){const e=document.getElementById("root-node-input").value;e!==null&&e.trim()!==""?(o.addNode(null,e.trim(),!1),document.getElementById("start-section").style.display="none",document.getElementById("controls").style.display="flex",document.getElementById("visualization").style.display="flex"):a("Please enter a valid root node value")}function y(){a(`Depth: ${o.depth()}`)}function g(){a(`Height: ${o.height()}`)}function f(){o.preOrder()}function E(){o.inOrder()}function w(){o.postOrder()}function u(i){c=i;const e=document.getElementById("node-modal");e.style.display="block"}function H(){const i=document.getElementById("node-modal");i.style.display="none"}function O(){const i=document.getElementById("node-value"),e=document.getElementById("node-position"),t=i.value,s=e.value==="left";t!==null&&t.trim()!==""?(o.addNode(c,t.trim(),s),H()):a("Please enter a valid node value")}document.getElementById("tree").addEventListener("click",()=>u(null));const B=document.querySelector(".start-btn");B.addEventListener("click",v);const N=document.querySelector(".depth-btn");N.addEventListener("click",y);const I=document.querySelector(".height-btn");I.addEventListener("click",g);const L=document.querySelector(".preOrder-btn");L.addEventListener("click",f);const b=document.querySelector(".inOrder-btn");b.addEventListener("click",E);const k=document.querySelector(".postOrder-btn");k.addEventListener("click",w);const S=document.querySelector(".add-node-btn");S.addEventListener("click",O);const M=document.querySelector(".close-btn");M.addEventListener("click",closeModal);window.addEventListener("click",i=>{const e=document.getElementById("modal"),t=document.getElementById("node-modal");i.target==e&&(e.style.display="none"),i.target==t&&(t.style.display="none")});
